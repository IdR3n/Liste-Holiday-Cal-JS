<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Liste des bières</title>
    <!--connection BootStrap pour JS-->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
    <!--connection BootStrap pour CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="main.css" rel="stylesheet">
    <!--connection AXIOS pour JS-->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!--connection calendrier-->
    <script src="
    https://cdn.jsdelivr.net/npm/fullcalendar@6.1.7/index.global.min.js
    "></script>
    <script>
        // méthode axios/await
        document.addEventListener('DOMContentLoaded', async function getFetes() {
            try {
                const res = await axios.get('https://date.nager.at/api/v3/publicholidays/2023/CH');
                console.log(res.data);
                const fetesList = res.data
                const holElement = document.getElementById('calendar');

                for (let fetes of fetesList) {
                    const fetesEl = document.createElement('div')
                    fetesEl.classList.add('col')
                    fetesEl.addEventListener('click', function () {
                        alert(fetes.date)
                    })
                    holElement.appendChild(fetesEl)
                }

                let result = fetesList.map((fete) => {
                console.log(fete)
                return fete
            })

            console.log(result)

            } catch (e) {
                throw e;
            }
            
// utiliser array.prototype.map() pour change le nom de data (date et name) par (start et title).
            const calendarEl = document.getElementById('calendar');
            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                events: [{
                    start:'2023-05-19',
                    title:'Ciao'
                }]
            });
            calendar.render();
        });

    </script>
    <script type="module" src="main.js"></script>
</head>

<body>
    <div class="container">
        <div id="calendar"></div>

    </div>
    </div>
</body>

</html>